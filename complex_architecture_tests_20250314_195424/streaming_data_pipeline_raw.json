{
  "diagram_type": "software_architecture",
  "syntax": "Here's a JSON object representing a comprehensive software architecture for a real-time streaming data pipeline that processes IoT sensor data. This architecture includes ingestion, stream processing, analytics, storage, and visualization components.\n\n```json\n{\n  \"type\": \"software_architecture\",\n  \"title\": \"Real-time Streaming Data Pipeline Architecture\",\n  \"nodes\": [\n    {\n      \"id\": \"ingestion\",\n      \"label\": \"IoT Ingestion\",\n      \"type\": \"ingestion\",\n      \"description\": \"Ingests IoT sensor data via MQTT and Kafka\",\n      \"technology\": \"Apache Kafka, Eclipse Paho (MQTT)\"\n    },\n    {\n      \"id\": \"kafka-connect\",\n      \"label\": \"Kafka Connect\",\n      \"type\": \"integration\",\n      \"description\": \"Integrates IoT data into Kafka\",\n      \"technology\": \"Apache Kafka Connect\"\n    },\n    {\n      \"id\": \"kafka-streams\",\n      \"label\": \"Kafka Streams\",\n      \"type\": \"stream_processing\",\n      \"description\": \"Performs real-time data processing and transformation\",\n      \"technology\": \"Apache Kafka Streams\"\n    },\n    {\n      \"id\": \"druid\",\n      \"label\": \"Druid\",\n      \"type\": \"analytics\",\n      \"description\": \"Real-time analytics and indexing\",\n      \"technology\": \"Druid\"\n    },\n    {\n      \"id\": \"postgres\",\n      \"label\": \"PostgreSQL\",\n      \"type\": \"database\",\n      \"description\": \"Long-term data storage\",\n      \"technology\": \"PostgreSQL\"\n    },\n    {\n      \"id\": \"influxdb\",\n      \"label\": \"InfluxDB\",\n      \"type\": \"timeseries_database\",\n      \"description\": \"Time-series data storage\",\n      \"technology\": \"InfluxDB\"\n    },\n    {\n      \"id\": \"grafana\",\n      \"label\": \"Grafana\",\n      \"type\": \"visualization\",\n      \"description\": \"Data visualization and monitoring\",\n      \"technology\": \"Grafana\"\n    },\n    {\n      \"id\": \"kibana\",\n      \"label\": \"Kibana\",\n      \"type\": \"visualization\",\n      \"description\": \"Data visualization and monitoring\",\n      \"technology\": \"Kibana\"\n    },\n    {\n      \"id\": \"elasticsearch\",\n      \"label\": \"Elasticsearch\",\n      \"type\": \"search_engine\",\n      \"description\": \"Search and indexing\",\n      \"technology\": \"Elasticsearch\"\n    }\n  ],\n  \"connections\": [\n    {\n      \"from\": \"ingestion\",\n      \"to\": \"kafka\",\n      \"label\": \"IoT sensor data\",\n      \"type\": \"data\",\n      \"protocol\": \"MQTT\"\n    },\n    {\n      \"from\": \"kafka\",\n      \"to\": \"kafka-streams\",\n      \"label\": \"Data stream\",\n      \"type\": \"data\",\n      \"protocol\": \"Kafka\"\n    },\n    {\n      \"from\": \"kafka-streams\",\n      \"to\": \"druid\",\n      \"label\": \"Real-time data\",\n      \"type\": \"data\",\n      \"protocol\": \"Kafka\"\n    },\n    {\n      \"from\": \"kafka-streams\",\n      \"to\": \"influxdb\",\n      \"label\": \"Time-series data\",\n      \"type\": \"data\",\n      \"protocol\": \"Kafka\"\n    },\n    {\n      \"from\": \"kafka-streams\",\n      \"to\": \"postgres\",\n      \"label\": \"Data for storage\",\n      \"type\": \"data\",\n      \"protocol\": \"Kafka\"\n    },\n    {\n      \"from\": \"druid\",\n      \"to\": \"grafana\",\n      \"label\": \"Real-time analytics\",\n      \"type\": \"data\",\n      \"protocol\": \"REST\"\n    },\n    {\n      \"from\": \"influxdb\",\n      \"to\": \"grafana\",\n      \"label\": \"Time-series data\",\n      \"type\": \"data\",\n      \"protocol\": \"InfluxDB Line Protocol\"\n    },\n    {\n      \"from\": \"postgres\",\n      \"to\": \"grafana\",\n      \"label\": \"Stored data\",\n      \"type\": \"data\",\n      \"protocol\": \"PostgreSQL\"\n    },\n    {\n      \"from\": \"elasticsearch\",\n      \"to\": \"kibana\",\n      \"label\": \"Indexed data\",\n      \"type\": \"data\",\n      \"protocol\": \"Elasticsearch\"\n    }\n  ],\n  \"clusters\": [\n    {\n      \"id\": \"ingestion\",\n      \"label\": \"Ingestion\",\n      \"nodes\": [\"ingestion\", \"kafka-connect\"]\n    },\n    {\n      \"id\": \"streaming\",\n      \"label\": \"Streaming\",\n      \"nodes\": [\"kafka\", \"kafka-streams\"]\n    },\n    {\n      \"id\": \"analytics\",\n      \"label\": \"Analytics\",\n      \"nodes\": [\"druid\", \"influxdb\"]\n    },\n    {\n      \"id\": \"visualization\",\n      \"label\": \"Visualization\",\n      \"nodes\": [\"grafana\", \"kibana\"]\n    },\n    {\n      \"id\": \"storage\",\n      \"label\": \"Storage\",\n      \"nodes\": [\"postgres\"]\n    },\n    {\n      \"id\": \"search\",\n      \"label\": \"Search\",\n      \"nodes\": [\"elasticsearch\"]\n    }\n  ],\n  \"styles\": {\n    \"ingestion\": {\n      \"color\": \"#00B8D9\",\n      \"shape\": \"database\",\n      \"border\": \"dashed\"\n    },\n    \"integration\": {\n      \"color\": \"#FFC107\",\n      \"shape\": \"cloud\",\n      \"border\": \"dashed\"\n    },\n    \"stream_processing\": {\n      \"color\": \"#9C27B0\",\n      \"shape\": \"ellipse\",\n      \"border\": \"solid\"\n    },\n    \"analytics\": {\n      \"color\": \"#2196F3\",\n      \"shape\": \"analytics\",\n      \"border\": \"solid\"\n    },\n    \"database\": {\n      \"color\": \"#4CAF50\",\n      \"shape\": \"database\",\n      \"border\": \"solid\"\n    },\n    \"timeseries_database\": {\n      \"color\": \"#009688\",\n      \"shape\": \"database\",\n      \"border\": \"solid\"\n    },\n    \"visualization\": {\n      \"color\": \"#3F51B5\",\n      \"shape\": \"monitor\",\n      \"border\": \"solid\"\n    },\n    \"search_engine\": {\n      \"color\": \"#607D8B\",\n      \"shape\": \"database\",\n      \"border\": \"solid\"\n    }\n  }\n}\n```\n\nThis architecture uses Kafka as the main ingestion and processing engine, Druid for real-time analytics, InfluxDB for time-series data storage, PostgreSQL for long-term storage, Elasticsearch for search and indexing, and Grafana and Kibana for visualization. IoT sensor data is ingested via MQTT and then transformed, enriched, and processed using Kafka Streams. The data is then stored in PostgreSQL, InfluxDB, and Elasticsearch, and made available for real-time analytics using Druid. Grafana and Kibana are used for visualization and monitoring.",
  "description": "This is a software architecture for a real-time streaming data pipeline that processes IoT sensor data, featuring components for ingestion, stream processing, analytics, storage, and visualization, utilizing technologies such as Kafka, Druid, InfluxDB, PostgreSQL, Grafana, and Kibana.",
  "metadata": {
    "options": {},
    "model": "mixtral-8x7b-32768",
    "tokens": 2427
  },
  "raw_structure": null,
  "nodes": null,
  "connections": null,
  "clusters": null
}